<%= form_with(model: case_contact, local: true, id: "casa-contact-form", method: :post) do |form| %>
  <%= render "/shared/error_messages", resource: case_contact %>

  <div class="card-style-1 pl-25 mb-10">
    <% if casa_cases.length > 1 %>
      <h2><label for="case_contact_casa_case">1. Select all relevant CASA cases<span class="red-letter"> *</span></label></h2>
    <% else %>
      <h2><label for="case_contact_casa_case">1. Select relevant CASA case<span class="red-letter"> *</span></label></h2>
    <% end %>
    <div class="casa-case-scroll">
      <% casa_cases.each_with_index do |casa_case, index| %>
        <div class="form-check checkbox-style mb-10 ml-5">
          <%= check_box_tag "case_contact[casa_case_id][]",
                            casa_case.id,
                            @selected_cases.include?(casa_case),
                            id: "case_contact_casa_case_id_#{index}",
                            class: ["form-check-input", "casa-case-id"],
                            disabled: case_contact.persisted? %>
          <label class="form-check-label" for="case_contact_casa_case_id_<%= index %>">
            <%= casa_case.case_number %>
          </label>
        </div>
      <% end %>
    </div>
  </div>

  <div class="actions mb-10">
    <%= button_tag( type: "submit" , class: "btn-sm main-btn primary-btn btn-hover" ) do %>
      <i class="lni lni-checkmark-circle mr-5"></i> Submit
      <% end %>
  </div>
<% end %>
